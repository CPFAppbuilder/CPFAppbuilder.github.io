<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Acer</title>
  <link rel="stylesheet" type="text/css" href="css/app.css">
  <script src="assets/vue.js"></script>
  <script src="assets/vue-plugin-touch.js"></script>
  <script src="assets/jquery-3.2.1.min.js"></script>
  <script src="js/user.js"></script>
  <script src="js/aop.js"></script>

  <script type="text/javascript">
    aop.aopDownload();
  </script>
</head>

<body>
  <div id="app" class="wrapper">
    <fruit :fruit="fruit" :price="price"></fruit>
    <fruit-img :fruit="fruit"></fruit-img>
    <fruit-total :price="price" :num="num" :weight="weight"></fruit-total>

    <div class="clear"></div>
    <div class="fruit-send">
      <button id="btn" class="fruit-button">CHECK OUT</button>
    </div>
  </div>
</body>

<script type="text/x-template" id="fruit">
  <div class="fruit-title">
    <h2>{{fruit}}</h2>
    <p>Price/KG: ${{price}}</p>
  </div>
</script>

<script type="text/x-template" id="img">
  <div class="fruit-left">
    <img :src="'img/' + fruit + '.png'">
  </div>
</script>

<script type="text/x-template" id="total">
  <div class="fruit-right">
    <table>
      <tr>
        <td>Unit: </td>
        <td>{{num}}</td>
      </tr>
      <tr>
        <td>Weight: </td>
        <td>{{weight}} KG</td>
      </tr>
      <tr>
        <td>Total: </td>
        <td>$ {{weight*price}}</td>
      </tr>
    </table>
  </div>
</script>

<script src="js/app.js"></script>

<script type="text/javascript">
  var bindClick = function(id, func) {
    if (typeof id == 'string') {
      id = document.getElementById(id);
    }
    id.addEventListener('click', func, true);
    id.addEventListener('touchmove', func, true);
  };

  bindClick('#btn', function () { 
    alert('aaa')
    stock['Lemon'] = stock['Lemon']-weight;
    aop.aopUpload();
  });
</script>

</html>
